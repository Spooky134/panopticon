syntax = "proto3";

package vstream_ml_model.ml_worker;

message BoundingBox {
  int32 x = 1;
  int32 y = 2;
  int32 width = 3;
  int32 height = 4;
}

message FrameRequest {
  string session_id = 1;
  bytes frame_data = 2; //данные изображения
  int32 width = 3;
  int32 height = 4;
  int32 channels = 5; //три канала для rgb
  int64 ts = 6;  //временная метка
}


message FrameResponse {
  string session_id = 1;
  string comment = 6;
  int64 ts = 7;
  repeated BoundingBox boxes = 8;
}

// обработка стриминг
service MLService {
  rpc StreamFrames(stream FrameRequest) returns (stream FrameResponse);
}

